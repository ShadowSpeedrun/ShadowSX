[Gecko]
$SX - Modern UI Control
C23562A0 00000006
7C9D002E 28040002
41820010 28040008
41820010 48000014
38800008 4800000C
38800002 48000004
60000000 00000000
$SX - Enable Race Mode
0257D8F5 00000001
*Race mode using IGT 2 during Story Mode which shows the full time for the run instead of just the time for the current level.
$SX - Set "In Checkpoint" True
C2117FE8 00000005
38800001 3E008057
3A207777 3A316130
7E128B78 B0920000
3A000000 3A200000
3A400000 00000000
$SX - Set "In Checkpoint" False
C2117644 00000005
386300A8 3E008057
3A207777 3A316130
7E128B78 B0920000
3A000000 3A200000
3A400000 00000000
$SX - Dont stop time in checkpoint
C2337030 00000009
3E008057 3A207777
3A316130 7E128B78
A2120000 28100000
40820020 28000000
40820008 48000014
3A000000 3A200000
3A400000 48334C6C
3A000000 3A200000
3A400000 00000000
$SX - nop Stop Time In Checkpoint
04337034 60000000
*Gecko Overwrite to nop unneeded code, but also to prevent using C2 because that would add a unnecessary branch.
$SX - Set Story Main and Last
C22D1BE8 00000006
809F000C 3E008057
3A207777 3A316180
7E128B78 3A000001
B2120000 3A000000
3A200000 3A400000
60000000 00000000
$SX - Dont Restart Timer if Story 1
C2206198 00000006
3E008057 3A207777
3A316180 7E128B78
A2120000 28100000
40820008 48334b59
3A000000 3A200000
3A400000 00000000
$SX - Dont Restart Timer if Story 2
C2206238 00000006
3E008057 3A207777
3A316180 7E128B78
A2120000 28100000
40820008 48334b59
3A000000 3A200000
3A400000 00000000
$SX - nop Reload Time On Death
04178bc4 60000000
*Gecko Overwrite to nop unneeded code, but also to prevent using C2 because that would add a unnecessary branch.
$SX - Set "In Checkpoint" False after Warp
C2129BCC 00000005
386300A8 3E008057
3A207777 3A316130
7E128B78 B0920000
3A000000 3A200000
3A400000 00000000
$SX - Mission Complete Events
C2205BC8 0000000E
9421FFF0 3E008057
3A207777 3A316130
7E128B78 39E00000
B1F20000 C07F798F
D07F77BC FC801890
C07F799F 3E008057
3A207777 3A31604E
7E128B78 8A120000
2C100001 40820010
D07F1B94 FC801890
4800000C D07F1B7C
FC801890 3A000000
3A200000 3A400000
60000000 00000000
*Set "In Checkpoint" False
*Set OG Timer to the value of New IGT on mission complete.
$SX - Reset Checkpoint and Story Flags on Stage -1
C2203894 00000006
90030000 3E008057
3A207777 3A316130
7E128B78 B1F20000
3A520050 B1F20000
3A000000 3A200000
3A400000 00000000
$Bloom Reduction [TheHatedGravity]
0456ac30 3f2b851f
*Bloom intensity multiplier. Lessens the bloom effect to a more reasonable level.
*If you'd like a custom amount, then replace the second half of this code with a floating point number, in hexadecimal.
*Examples:
*0.25 : 3e800000
*0.375: 3ec00000
*0.5  : 3f000000
*0.95 : (default)
*
*I choose 67% (3f2b851f) as makes rings on Prison rivers visible like on console.  May need to make a custom code to change per stage? -Zzetti
$SX - Use New IGT variable for UI Display
C2201854 0000000A
C03D7223 3E008057
3A207777 3A31617E
7E128B78 A2120000
28100001 40820024
3E008057 3A207777
3A316180 7E128B78
A2120000 28100001
40820008 C03D7233
3A000000 3A200000
3A400000 00000000
*Use New IGT by default. Use Race IGT for Story if Race Mode is enabled.
$SX - Only Increment New IGT if in Normal Level
C2337034 00000011
3E008057 3A207777
3A316182 7E128B78
A2120000 28100000
4082005C C023FF9C
C0040020 EC000824
FC003040 41810008
FC003090 C02301DF
EC21002A D02301DF
3E008057 3A207777
3A31604E 7E128B78
8A120000 2C100001
4082000C C003A3E4
4800000C C003A3CC
48000004 EC21002A
D02301EF 3A000000
3A200000 3A400000
60000000 00000000
*Do not apply scaler
*Race time is Saved time + New IGT
$SX - Set New IGT to 0 on Restart
C2336FF0 00000002
D003000C D00301DF
60000000 00000000
*Set New IGT to 0 in sync with when we would for the original timer.
$SX - Set All Partners as Seen Always
0857D778 00000001
200B0004 00000000
$SX - Set In Cutscene Flag
C22D1CCC 00000006
7C641B78 3E008057
3A207777 3A316182
7E128B78 39C00001
B1D20000 39C00000
3A000000 3A200000
3A400000 00000000
*Set Flag after cutscene scene is assigned.
$SX - Set In Cutscene False on Stage Load Expert Set Story post launch
C22038C8 00000011
90830000 3E008057
3A207777 3A316182
7E128B78 39C00000
B1D20000 3A207777
3A31604E 7E128B78
89D20000 2C0E0001
40820040 3A207777
3A316180 7E128B78
B1D20000 3E008057
3A207777 3A315FD1
7E128B78 82520000
28120064 40820014
3A207777 3A310395
7E128B78 D0120000
39C00000 3A000000
3A200000 3A400000
60000000 00000000
*Assume cutscene is false.  Cutscene flag will set to true after load if needed.
*Set Story Flag to true if loading new expert level after starting.
$SX - Reset Race IGT on Story Mode Start
C22D1BF4 00000008
7C641B78 3E008057
3A207777 3A315FD1
7E128B78 82520000
28120064 40820014
3A207777 3A31037D
7E128B78 D0720000
3A000000 3A200000
3A400000 00000000
*Currently checking for Story mode loading Westopolis.
$SX - Fast Key Door Open
C211B5D4 0000000E
7C0802A6 7C6E1B78
7C8F2378 7CB02B78
7C110378 3E408011
6252BE9C 7E4803A6
4E800021 7C721B78
7DC37378 7DE47B78
7E058378 7E208B78
39C00000 39E00000
3A000000 3A200000
2C120005 40820018
81C30000 39E00040
B1EE0018 39C00000
39E00000 3A400000
60000000 00000000
*If the player has 5 Keys for the stage, skip initial opening animation.
[Core]
FastDiscSpeed = True
FPRF = True
CPUThread = False
MMU = True
[Gecko_Enabled]
$SX - Set "In Checkpoint" True
$SX - Set "In Checkpoint" False
$SX - Dont stop time in checkpoint
$SX - nop Stop Time In Checkpoint
$SX - Set Story Main and Last
$SX - Dont Restart Timer if Story 1
$SX - Dont Restart Timer if Story 2
$SX - nop Reload Time On Death
$SX - Set "In Checkpoint" False after Warp
$SX - Mission Complete Events
$SX - Reset Checkpoint and Story Flags on Stage -1
$Bloom Reduction
$SX - Use New IGT variable for UI Display
$SX - Only Increment New IGT if in Normal Level
$SX - Set New IGT to 0 on Restart
$SX - Set All Partners as Seen Always
$SX - Set In Cutscene Flag
$SX - Set In Cutscene False on Stage Load Expert Set Story post launch
$SX - Reset Race IGT on Story Mode Start
$SX - Fast Key Door Open
